<!DOCTYPE html>
<!DOCTYPE html><html lang="en">
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>hrgui</title>
  <meta name="title" content="hrgui">
  

  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="icon" type="image/png" href="/favicon.png">

  <!-- Open Graph Tags (Facebook) -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="hrgui">
  

  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:title" content="hrgui">

  
<link rel="stylesheet" href="/assets/15150b41.71e9f2c8.css" /></head>

  <style>astro-island,astro-slot{display:contents}</style><script>(self.Astro=self.Astro||{}).visible=(i,c,n)=>{const r=async()=>{await(await i())()};let s=new IntersectionObserver(e=>{for(const t of e)if(!!t.isIntersecting){s.disconnect(),r();break}});for(let e=0;e<n.children.length;e++){const t=n.children[e];s.observe(t)}};var a;{const l={0:t=>t,1:t=>JSON.parse(t,n),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(JSON.parse(t,n)),5:t=>new Set(JSON.parse(t,n)),6:t=>BigInt(t),7:t=>new URL(t)},n=(t,r)=>{if(t===""||!Array.isArray(r))return r;const[e,i]=r;return e in l?l[e](i):void 0};customElements.get("astro-island")||customElements.define("astro-island",(a=class extends HTMLElement{constructor(){super(...arguments);this.hydrate=()=>{if(!this.hydrator||this.parentElement?.closest("astro-island[ssr]"))return;const r=this.querySelectorAll("astro-slot"),e={},i=this.querySelectorAll("template[data-astro-template]");for(const s of i)!s.closest(this.tagName)?.isSameNode(this)||(e[s.getAttribute("data-astro-template")||"default"]=s.innerHTML,s.remove());for(const s of r)!s.closest(this.tagName)?.isSameNode(this)||(e[s.getAttribute("name")||"default"]=s.innerHTML);const o=this.hasAttribute("props")?JSON.parse(this.getAttribute("props"),n):{};this.hydrator(this)(this.Component,o,e,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),window.removeEventListener("astro:hydrate",this.hydrate),window.dispatchEvent(new CustomEvent("astro:hydrate"))}}connectedCallback(){!this.hasAttribute("await-children")||this.firstChild?this.childrenConnectedCallback():new MutationObserver((r,e)=>{e.disconnect(),this.childrenConnectedCallback()}).observe(this,{childList:!0})}async childrenConnectedCallback(){window.addEventListener("astro:hydrate",this.hydrate),await import(this.getAttribute("before-hydration-url"));const r=JSON.parse(this.getAttribute("opts"));Astro[this.getAttribute("client")](async()=>{const e=this.getAttribute("renderer-url"),[i,{default:o}]=await Promise.all([import(this.getAttribute("component-url")),e?import(e):()=>()=>{}]);return this.Component=i[this.getAttribute("component-export")||"default"],this.hydrator=o,this.hydrate},r,this)}attributeChangedCallback(){this.hydrator&&this.hydrate()}},a.observedAttributes=["props"],a))}</script><astro-island uid="Z2fhFYS" component-url="/AppLayout.2ea4e566.js" component-export="default" renderer-url="/client.20a4fdc2.js" props="{&quot;currentPathName&quot;:[0,&quot;/posts/how-i-feel-about-typescript-part2&quot;]}" ssr="" client="visible" before-hydration-url="data:text/javascript;charset=utf-8,//[no before-hydration script]" opts="{&quot;name&quot;:&quot;AppLayout&quot;,&quot;value&quot;:true}" await-children=""><div class="font-inter dark:bg-stone-900 dark:text-gray-200"><div class="flex fixed items-center h-16 border-gray-300 sm:justify-between w-full transition-colors z-10"><button class="sm:hidden hover:bg-gray-800 hover:opacity-100 p-2 opacity-75 transition-all"><svg xmlns="http://www.w3.org/2000/svg" class="sm:hidden w-12 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg></button><a href="/"><div class="text-3xl tracking-tight font-medium dark:text-gray-200 sm:pl-5">hr<span class="text-red-700 dark:text-red-500">gui</span></div></a><nav class="hidden sm:flex h-16 justify-center items-center" data-testid="desktop-nav"><a href="/" class="text-gray-800 dark:text-gray-200 hover:text-gray-900 dark:hover:text-gray-100 transition-colors font-medium flex sm:justify-center items-center pl-6 pr-6 h-16 hover:bg-red-700 hover:bg-opacity-10">Home</a><a href="/posts" class="transition-colors font-medium flex sm:justify-center items-center pl-6 pr-6 h-16 hover:bg-red-700 hover:bg-opacity-10 text-red-700 dark:text-red-300 hover:text-red-900 dark:hover:text-red-500 bg-red-700 bg-opacity-10 border-l-2 sm:border-l-0 sm:rounded-none sm:bg-transparent sm:border-t-2 border-red-700" aria-current="page">Blog</a><a href="/portfolio" class="text-gray-800 dark:text-gray-200 hover:text-gray-900 dark:hover:text-gray-100 transition-colors font-medium flex sm:justify-center items-center pl-6 pr-6 h-16 hover:bg-red-700 hover:bg-opacity-10">Portfolio</a></nav></div><div class="z-10 fixed inset-0 transition-opacity hidden"><div class="absolute inset-0 bg-black opacity-50"></div></div><aside class="sm:-translate-x-full transform top-0 left-0 w-64 bg-white dark:bg-zinc-900 fixed h-full overflow-auto ease-in-out transition-all duration-300 z-30 -translate-x-full"><a href="/"><div class="text-3xl tracking-tight font-medium dark:text-gray-200 flex items-center pl-5 h-16 border-b-2 border-gray-700 mb-2">hr<span class="text-red-700 dark:text-red-500">gui</span></div></a><a href="/" class="text-gray-800 dark:text-gray-200 hover:text-gray-900 dark:hover:text-gray-100 transition-colors font-medium flex sm:justify-center items-center pl-6 pr-6 h-16 hover:bg-red-700 hover:bg-opacity-10">Home</a><a href="/posts" class="transition-colors font-medium flex sm:justify-center items-center pl-6 pr-6 h-16 hover:bg-red-700 hover:bg-opacity-10 text-red-700 dark:text-red-300 hover:text-red-900 dark:hover:text-red-500 bg-red-700 bg-opacity-10 border-l-2 sm:border-l-0 sm:rounded-none sm:bg-transparent sm:border-t-2 border-red-700" aria-current="page">Blog</a><a href="/portfolio" class="text-gray-800 dark:text-gray-200 hover:text-gray-900 dark:hover:text-gray-100 transition-colors font-medium flex sm:justify-center items-center pl-6 pr-6 h-16 hover:bg-red-700 hover:bg-opacity-10">Portfolio</a></aside><div class="min-h-screen"><astro-slot><div class="pt-28 p-6 pb-0 container mx-auto max-w-none circuit-board-bg dark:dark-circuit-board-bg"><div class="mb-14 max-w-[1536px] mx-auto"><h5 class="text-gray-700 dark:text-gray-500 mb-4 font-mono leading-5">4/16/2022</h5><h1 class="text-4xl sm:text-5xl md:text-6xl font-semibold tracking-tight break-words">Part II: I miss TypeScript</h1></div></div><div class="pl-6 pr-6"><div class="prose dark:prose-invert prose-md lg:prose-lg max-w-[1536px] mx-auto"><main><p>This is the continuation to <a href="/posts/how-i-feel-about-typescript-part1">How I Feel about TypeScript</a>. If you haven’t read it, I would encourage reading it before reading the next post.</p>
<p>I just recently decided to take on a journey without TypeScript for the time being. I wanted to see how it feels like. To me, writing JavaScript without TypeScript is coding with blinders. That’s how it felt like for the past 2 months.</p>
<h1 id="developing-without-typescript-is-often-a-game-of-guessing">Developing without TypeScript is often a game of guessing</h1>
<p>In the current codebase that I work with, everytime an error occurs in the web application, it just shows “An error occurred!“. No clear stack trace. It often ends up being a guessing game. Where did I make that mistake?</p>
<p>Here’s a trivial example. For strings, we can transform the output of the string to uppercase. There’s a function for that. Let’s see how that works:</p>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #A5D6FF">"Hello World"</span><span style="color: #C9D1D9">.</span><span style="color: #D2A8FF">toUppercase</span><span style="color: #C9D1D9">();</span></span></code></pre>
<p>When I run the codebase, I get the infamous “An error occurred!“. It’ll be somewhere, in the large sea of code. If it’s with tests, then it’ll be caught. If it’s without tests, who knows when this will be caught. It’ll most likely be caught when my user works with my application. It could be the most critical portion too! When the user is about to give you money, and if this happens, this is a breaking moment.</p>
<p>If you still haven’t figured out the error, here it is:</p>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #A5D6FF">"Hello World"</span><span style="color: #C9D1D9">.</span><span style="color: #D2A8FF">toUppercase</span><span style="color: #C9D1D9">();</span></span>
<span class="line"><span style="color: #8B949E">/**               ^ this is the error</span></span>
<span class="line"><span style="color: #8B949E">any</span></span>
<span class="line"><span style="color: #8B949E">Property 'toUppercase' does not exist on type '"Hello World"'. Did you mean 'toUpperCase'?ts(2551)</span></span>
<span class="line"><span style="color: #8B949E">lib.es5.d.ts(494, 5): 'toUpperCase' is declared here.</span></span>
<span class="line"><span style="color: #8B949E">*/</span></span></code></pre>
<h1 id="json-objects-without-typescript-is-a-guessing-game">JSON objects without TypeScript is a guessing game</h1>
<p>As a web application developer, I often work with JSON objects as that is the common medium that is used to get data. I often call that a <strong>query</strong>. Suppose we are Star Wars fanatics that want to utilize the <a href="https://swapi.dev/">https://swapi.dev/</a> API, and our task is to show all the people associated with Star Wars.</p>
<p>The first typical thing to do is go to that website, and look at the documentation. After reading the documentation, then we figure out we need to do the following:</p>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #FF7B72">export</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">function</span><span style="color: #C9D1D9"> </span><span style="color: #D2A8FF">getStarWarsCharacter</span><span style="color: #C9D1D9">(</span><span style="color: #FFA657">id</span><span style="color: #C9D1D9">) {</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">res</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">await</span><span style="color: #C9D1D9"> </span><span style="color: #D2A8FF">fetch</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">`https://swapi.dev/api/people/${</span><span style="color: #C9D1D9">id</span><span style="color: #A5D6FF">}/`</span><span style="color: #C9D1D9">);</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">json</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> res.</span><span style="color: #D2A8FF">json</span><span style="color: #C9D1D9">();</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #FF7B72">return</span><span style="color: #C9D1D9"> json;</span></span>
<span class="line"><span style="color: #C9D1D9">}</span></span></code></pre>
<p>When there’s a test, it may or may not be helpful for describing the JSON object’s return. Let’s describe what are useful tests, and what aren’t useful tests:</p>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #D2A8FF">it</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">"should give me Luke Skywalker back when I fetch id=1"</span><span style="color: #C9D1D9">, </span><span style="color: #FF7B72">async</span><span style="color: #C9D1D9"> () </span><span style="color: #FF7B72">=></span><span style="color: #C9D1D9"> {</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">data</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">await</span><span style="color: #C9D1D9"> </span><span style="color: #D2A8FF">getStarWarsCharacter</span><span style="color: #C9D1D9">(</span><span style="color: #79C0FF">1</span><span style="color: #C9D1D9">);</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #D2A8FF">expect</span><span style="color: #C9D1D9">(data.name).</span><span style="color: #D2A8FF">toEqual</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">"Luke Skywalker"</span><span style="color: #C9D1D9">);</span></span>
<span class="line"><span style="color: #C9D1D9">});</span></span></code></pre>
<p>This test is useful for only 1 thing: If I get the Star Wars character, it will for sure have the <code>name</code> property. What if I wanted something else? This test won’t give you that information. Someone could even argue that this is 100% coverage for the happy path. However, it actually has a lot of other useful properties, e.g. height, mass, hair_color, skin_color, eye_color, birth_year, and the list goes on.</p>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #D2A8FF">it</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">"should give me Luke Skywalker back when I fetch id=1"</span><span style="color: #C9D1D9">, </span><span style="color: #FF7B72">async</span><span style="color: #C9D1D9"> () </span><span style="color: #FF7B72">=></span><span style="color: #C9D1D9"> {</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">data</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">await</span><span style="color: #C9D1D9"> </span><span style="color: #D2A8FF">getStarWarsCharacter</span><span style="color: #C9D1D9">(</span><span style="color: #79C0FF">1</span><span style="color: #C9D1D9">);</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #D2A8FF">expect</span><span style="color: #C9D1D9">(data).</span><span style="color: #D2A8FF">toMatchSnapshot</span><span style="color: #C9D1D9">();</span></span>
<span class="line"><span style="color: #C9D1D9">});</span></span></code></pre>
<p>This is better, but in the first glance it is not so obvious. What is <code>toMatchSnapshot()</code>? It is a part of <a href="https://jestjs.io/docs/snapshot-testing">Snapshot Testing</a>. On the test first run, we create a <code>.snapshot</code> file, then it saves a record of what it was at that time. Upon consecutive runs, the test will evaluate and check the <code>.snapshot</code> file. If there’s a difference, it will be a failure (red), and we’ll be asked if that is correct or if it requires to update.</p>
<p>Now, does a snapshot help describe the object? Yes, but only if you knew that piece of information my last paragraph was describing. If you did not, then the test actually adds a layer of extra direction on what the test is trying to describe. In fact, you’ll need to know where the snapshot is saved before actually understanding what the shape is supposed to look like.</p>
<p>Luckily there is something better. It is called <code>toMatchInlineSnapshot()</code>. Take a look:</p>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #8B949E">// note, the actual output will look similar to this, but i was too lazy to actually run it on an actual app</span></span>
<span class="line"><span style="color: #8B949E">// the spacing is probably better in a right app</span></span>
<span class="line"><span style="color: #D2A8FF">it</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">"should give me Luke Skywalker back when I fetch id=1"</span><span style="color: #C9D1D9">, </span><span style="color: #FF7B72">async</span><span style="color: #C9D1D9"> () </span><span style="color: #FF7B72">=></span><span style="color: #C9D1D9"> {</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">data</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">await</span><span style="color: #C9D1D9"> </span><span style="color: #D2A8FF">getStarWarsCharacter</span><span style="color: #C9D1D9">(</span><span style="color: #79C0FF">1</span><span style="color: #C9D1D9">);</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #D2A8FF">expect</span><span style="color: #C9D1D9">(data).</span><span style="color: #D2A8FF">toMatchInlineSnapshot</span><span style="color: #C9D1D9">(</span></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #A5D6FF">`{</span></span>
<span class="line"><span style="color: #A5D6FF">	"name": "Luke Skywalker",</span></span>
<span class="line"><span style="color: #A5D6FF">	"height": "172",</span></span>
<span class="line"><span style="color: #A5D6FF">	"mass": "77",</span></span>
<span class="line"><span style="color: #A5D6FF">	"hair_color": "blond",</span></span>
<span class="line"><span style="color: #A5D6FF">	"skin_color": "fair",</span></span>
<span class="line"><span style="color: #A5D6FF">	"eye_color": "blue",</span></span>
<span class="line"><span style="color: #A5D6FF">	"birth_year": "19BBY",</span></span>
<span class="line"><span style="color: #A5D6FF">	"gender": "male",</span></span>
<span class="line"><span style="color: #A5D6FF">	"homeworld": "https://swapi.dev/api/planets/1/",</span></span>
<span class="line"><span style="color: #A5D6FF">	"films": [</span></span>
<span class="line"><span style="color: #A5D6FF">		"https://swapi.dev/api/films/2/",</span></span>
<span class="line"><span style="color: #A5D6FF">		"https://swapi.dev/api/films/6/",</span></span>
<span class="line"><span style="color: #A5D6FF">		"https://swapi.dev/api/films/3/",</span></span>
<span class="line"><span style="color: #A5D6FF">		"https://swapi.dev/api/films/1/",</span></span>
<span class="line"><span style="color: #A5D6FF">		"https://swapi.dev/api/films/7/"</span></span>
<span class="line"><span style="color: #A5D6FF">	],</span></span>
<span class="line"><span style="color: #A5D6FF">	"species": [</span></span>
<span class="line"><span style="color: #A5D6FF">		"https://swapi.dev/api/species/1/"</span></span>
<span class="line"><span style="color: #A5D6FF">	],</span></span>
<span class="line"><span style="color: #A5D6FF">	"vehicles": [</span></span>
<span class="line"><span style="color: #A5D6FF">		"https://swapi.dev/api/vehicles/14/",</span></span>
<span class="line"><span style="color: #A5D6FF">		"https://swapi.dev/api/vehicles/30/"</span></span>
<span class="line"><span style="color: #A5D6FF">	],</span></span>
<span class="line"><span style="color: #A5D6FF">	"starships": [</span></span>
<span class="line"><span style="color: #A5D6FF">		"https://swapi.dev/api/starships/12/",</span></span>
<span class="line"><span style="color: #A5D6FF">		"https://swapi.dev/api/starships/22/"</span></span>
<span class="line"><span style="color: #A5D6FF">	],</span></span>
<span class="line"><span style="color: #A5D6FF">	"created": "2014-12-09T13:50:51.644000Z",</span></span>
<span class="line"><span style="color: #A5D6FF">	"edited": "2014-12-20T21:17:56.891000Z",</span></span>
<span class="line"><span style="color: #A5D6FF">	"url": "https://swapi.dev/api/people/1/"</span></span>
<span class="line"><span style="color: #A5D6FF">}`</span></span>
<span class="line"><span style="color: #C9D1D9">  );</span></span>
<span class="line"><span style="color: #C9D1D9">});</span></span></code></pre>
<p>This is <strong>much</strong> better than <code>toMatchSnapshot()</code>. This is because the snapshot is colocated with the code. It also describes the shape in the test at this point.</p>
<p>So let’s recap on where we arrived at so far.</p>
<ol>
<li>We read swapi.dev and that’s how we get the shape. We created a function for others to use.</li>
<li>We created a simple test and it shows that it has a name property.</li>
<li>We created another simple test and it has a snapshot in another file.</li>
<li>We created another simple test that describes the shape inline the test.</li>
</ol>
<p>So it seems like we moved the swapi.dev documentation in the code, which is the unit test. That is a lot better, but opening unit tests or website documentation to understand a JSON shape is a pain. Ideally when I call <code>await getStarWarsCharacter(x)</code> I expect that the autocomplete would know what to do. My editor doesn’t know Star Wars characters though! That’s when TypeScript is useful.</p>
<p>In an ideal world, every API that I work with describes itself programatically, not just through documentation. In the case of swapi.dev, it has a schema endpoint, but currently at the time of writing, it returns the following:</p>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">{ </span><span style="color: #79C0FF">"detail"</span><span style="color: #C9D1D9">: </span><span style="color: #A5D6FF">"Not found"</span><span style="color: #C9D1D9"> }</span></span></code></pre>
<p>If it did work, and it returned JSON Schema, we then can use <a href="https://www.npmjs.com/package/json-schema-to-typescript">JSON Schema To TypeScript</a>. From there, we then can improve our function:</p>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #FF7B72">export</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">function</span><span style="color: #C9D1D9"> </span><span style="color: #D2A8FF">getStarWarsCharacter</span><span style="color: #C9D1D9">(</span><span style="color: #FFA657">id</span><span style="color: #C9D1D9">)</span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> </span><span style="color: #FFA657">Promise</span><span style="color: #C9D1D9">&#x3C;</span><span style="color: #FFA657">SWPerson</span><span style="color: #C9D1D9">> {</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">res</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">await</span><span style="color: #C9D1D9"> </span><span style="color: #D2A8FF">fetch</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">`https://swapi.dev/api/people/${</span><span style="color: #C9D1D9">id</span><span style="color: #A5D6FF">}/`</span><span style="color: #C9D1D9">);</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">json</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> res.</span><span style="color: #D2A8FF">json</span><span style="color: #C9D1D9">();</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #FF7B72">return</span><span style="color: #C9D1D9"> json;</span></span>
<span class="line"><span style="color: #C9D1D9">}</span></span></code></pre>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #FF7B72">interface</span><span style="color: #C9D1D9"> </span><span style="color: #FFA657">SWPerson</span><span style="color: #C9D1D9"> {</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #FFA657">name</span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">string</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #FFA657">height</span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">string</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #FFA657">mass</span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">string</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #FFA657">hair_color</span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">string</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #FFA657">skin_color</span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">string</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #FFA657">eye_color</span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">string</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #FFA657">birth_year</span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">string</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #FFA657">gender</span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">string</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #FFA657">homeworld</span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">string</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #FFA657">films</span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">string</span><span style="color: #C9D1D9">[];</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #FFA657">species</span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">string</span><span style="color: #C9D1D9">[];</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #FFA657">vehicles</span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">string</span><span style="color: #C9D1D9">[];</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #FFA657">starships</span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">string</span><span style="color: #C9D1D9">[];</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #FFA657">created</span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> </span><span style="color: #FFA657">Date</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #FFA657">edited</span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> </span><span style="color: #FFA657">Date</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #FFA657">url</span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">string</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #C9D1D9">}</span></span></code></pre>
<p>Now, when I do use the <code>getStarWarsCharacter()</code> function, and if I make a typo like the following:</p>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">data</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">await</span><span style="color: #C9D1D9"> </span><span style="color: #D2A8FF">getStarWarsCharacter</span><span style="color: #C9D1D9">(</span><span style="color: #79C0FF">1</span><span style="color: #C9D1D9">);</span></span>
<span class="line"><span style="color: #C9D1D9">console.</span><span style="color: #D2A8FF">log</span><span style="color: #C9D1D9">(data.Mass);</span></span>
<span class="line"><span style="color: #8B949E">/*                ^ this is the error</span></span>
<span class="line"><span style="color: #8B949E">SWPerson</span></span>
<span class="line"><span style="color: #8B949E">Property 'Mass' does not exist on type '"SWPerson"'. Did you mean 'mass'? ts(2551)</span></span>
<span class="line"><span style="color: #8B949E">*/</span></span></code></pre>
<p>I will know before I even go to swapi.dev. I will know before I even read the unit test. That is how great TypeScript is. In fact, I can even say I don’t need Internet. However, in this case I do because I need it to fetch something from the internet.</p>
<h1 id="typescript-can-enables-better-workflow-if-used-correctly">TypeScript can enables better workflow if used correctly</h1>
<p>In the swapi.dev example earlier, if there was a change in the swapi.dev endpoints, the most typical thing that people love to do is do the change manually. That is only needed if it is the API is not self-describing at all. That is prone to mistakes, because a human is behind this change - and humans are suspectible to errors.</p>
<p>If the API was self-describing, with either <a href="https://swagger.io/specification/">OpenApi</a>, <a href="https://graphql.org/">GraphQL</a> or with anything that describes the shape through an endpoint <a href="https://www.django-rest-framework.org/">Django REST Framework</a>, stop what you’re doing. Just stop. Seriously. You are wasting time.</p>
<p>For OpenAPI, we can use <a href="https://www.npmjs.com/package/openapi-typescript">openapi-typescript</a>, which auto generates a TypeScript client for you. You won’t even need to know if your endpoint was called <code>/meow</code> or <code>/meowwww</code>. You could care less what it was called, as long it was described well.</p>
<p>For GraphQL, we can use <a href="https://www.graphql-code-generator.com/">graphql-codegen</a>, which auto generates any code for you from your GraphQL Schema and operations.</p>
<p>I could go on and on. If paired with Github Actions, we could leverage repository dispatch between 2 repos to always constantly update TypeScript repos. If everything was in 1 repo, we can update everything, the UI and the API. Not manually. Automatically. That is how powerful it is. No need to have a manually created documentation website.</p>
<h1 id="summary">Summary</h1>
<p>I miss TypeScript. I’ve been working with only JavaScript for the past month or so, and it feels like I’ve gone back in timem where I often code JavaScript by guessing. I also miss workflows that inform or update me on API changes. I know in my last post I might have been against TypeScript. However, with large teams, and in large corporations, TypeScript will save the organization a lot of time. That is how great TypeScript is.</p></main></div></div></astro-slot></div><div class="bg-gray-200 dark:bg-neutral-800 dark:text-gray-200" data-testid="footer"><div class="container mx-auto"><div class="p-6 sm:pl-0 sm:grid sm:grid-cols-2 sm:gap-8"><div><a href="/"><div class="text-3xl tracking-tight font-medium dark:text-gray-200">hr<span class="text-red-700 dark:text-red-500">gui</span></div></a><p class="prose prose-sm dark:text-gray-200 mt-4 mb-4">Harman Goei (hrgui) is a developer that loves to make cool and awesome web applications. His strength is in HTML, CSS, JavaScript, but he is willing to code anywhere in the stack to make the web be awesome.</p></div><div class="mb-4 mt-4"><nav class="flex flex-col"><a href="/" class="text-red-700 dark:text-red-500 hover:underline font-medium">Home</a><a href="/posts" class="text-red-700 dark:text-red-500 hover-underline font-medium">Blog</a><a href="/portfolio" class="text-red-700 dark:text-red-500 hover-underline font-medium">Portfolio</a></nav></div></div></div><div class="p-6 bg-gray-200 dark:bg-neutral-800 border-t-2 border-gray-300 dark:border-neutral-700 dark:text-gray-200"><div class="container mx-auto flex justify-between"><div>© <!-- -->2022<!-- --> Harman Goei</div><div class="flex gap-2"><a title="View My Github Profile" href="https://www.github.com/hrgui" target="_blank" rel="noopener noreferrer" class="opacity-50 hover:opacity-100 transition-all"><svg class="w-6 h-6 fill-current" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg></a><a title="View My LinkedIn Profile" href="https://www.linkedin.com/in/hrgui" target="_blank" rel="noopener noreferrer" class="opacity-50 hover:opacity-100 transition-all"><svg class="w-6 h-6 fill-current hover:text-blue-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"></path></svg></a></div><div><button class="text-red-700 dark:text-red-500 hover-underline font-medium">back to top?</button></div></div></div></div></div></astro-island>
</html>