---
import { getCollection } from "astro:content";
import DefaultPageLayout from "layouts/default.astro";
import { PortfolioFrontmatter } from "types/frontmatter";
import PortfolioShowcase from "~/components/app/portfolio/PortfolioShowcase";
import SubPageHeader from "~/components/layout/SubPageHeader";

const title = `Portfolio`;
const description = `View Harman's showcase of work as a developer.`;

const items = await getCollection("portfolio");
---

<DefaultPageLayout title={title} description={description}>
  <SubPageHeader
    bgClassName="graph-bg dark:dark-graph-bg"
    className="from-pink-400  to-violet-500"
  >
    {title}
  </SubPageHeader>
  <PortfolioShowcase
    hasTitle={false}
    items={items.map(
      (item) => ({ ...item.data, slug: item.slug } as PortfolioFrontmatter)
    )}
  />
</DefaultPageLayout>
